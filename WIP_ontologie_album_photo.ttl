@prefix : <http://www.semanticweb.org/photoalbum#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .     # Vocabulaire OWL 2 [web:9]
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .   # Vocabulaire RDF de base [web:13]
@prefix xml: <http://www.w3.org/XML/1998/namespace> .          # Attributs XML (xml:lang, xml:base, etc.) [file:3]
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .             # Types de données XML Schema [web:13]
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .        # Vocabulaire RDFS (label, comment, subClassOf...) [web:10]
@prefix foaf: <http://xmlns.com/foaf/0.1/> .                   # FOAF pour modéliser les personnes [web:14]
@prefix dc: <http://purl.org/dc/elements/1.1/> .               # Dublin Core simple [web:7]
@prefix dcterms: <http://purl.org/dc/terms/> .                 # Dublin Core Terms [web:7]
@prefix schema: <http://schema.org/> .                         # Vocabulaire Schema.org (ex. ImageObject) [web:4]
@base <http://www.semanticweb.org/photoalbum> .                # IRI de base de l’ontologie

# Déclaration de l’ontologie avec métadonnées Dublin Core
<http://www.semanticweb.org/photoalbum> rdf:type owl:Ontology ;
    dc:creator "Beyeler Elie , Luginbuhl Valentin" ;
    dc:title "Photo Album Ontology" ;
    rdfs:comment "Ontologie dans le cadre du projet de représentation de données et connaissances contenant la description et l'annotation de photos dans un album photo" .

#    Classes

### Classes principales
# Les classes de base qui structurent l'ontologie

# Photo: représente une image dans notre système
:Photo rdf:type owl:Class ;
    rdfs:label "Photo" ;
    rdfs:comment "Une  photo dans un album" ;
    # Contraintes: une photo doit avoir au moins un titre et une date
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :title ;
        owl:minCardinality "1"^^xsd:nonNegativeInteger
    ] ;
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :dateTaken ;
        owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ;
    # Une photo doit être dans au moins un album
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :inAlbum ;
        owl:minCardinality "1"^^xsd:nonNegativeInteger
    ] ;

# Album: conteneur logique pour regrouper des photos
:Album rdf:type owl:Class ;
    rdfs:label "Album";
    rdfs:comment "Un album regroupant des photos" ;
    # Un album doit avoir un nom et un propriétaire
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :albumName ;
        owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ;
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :ownedBy ;
        owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ;

# Person: réutilise FOAF pour la compatibilité avec d'autres ontologies
:Person rdf:type owl:Class ;
    rdfs:subClassOf foaf:Person ;
    rdfs:label "Personne" ;
    rdfs:comment "Une personne apparaissant sur une photo ou auteur d'une photo" ;
    # Une personne doit avoir au moins un nom
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :personName ;
        owl:minCardinality "1"^^xsd:nonNegativeInteger
    ] ;

# Place: lieu géographique avec coordonnées possibles
:Place rdf:type owl:Class ;
    rdfs:label "Lieu" ;
    rdfs:comment "Un lieu géographique où une photo a été prise" ;
    # Un lieu doit avoir un nom
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :placeName ;
        owl:minCardinality "1"^^xsd:nonNegativeInteger
    ] ;

# Event: permet de regrouper des photos par contexte (fête, vacances, etc.)
:Event rdf:type owl:Class ;
    rdfs:label "Événement";
    rdfs:comment "Un événement capturé par une photo" ;

### Hiérarchie des événements
# Différents types d'événements pour catégoriser les photos

# Fête, sous-classe d’Event
:Party rdf:type owl:Class ;
    rdfs:subClassOf :Event ;
    rdfs:label "Fête" ;
    rdfs:comment "Un événement festif" .

# Anniversaire, sous-classe de Party
:Birthday rdf:type owl:Class ;
    rdfs:subClassOf :Party ;
    rdfs:label "Anniversaire" ;
    rdfs:comment "Une fête d'anniversaire" .

# Pendaison de crémaillère, sous-classe de Party
:HousewarmingParty rdf:type owl:Class ;
    rdfs:subClassOf :Party ;
    rdfs:label "Pendaison de crémaillère";
    rdfs:comment "Une fête de pendaison de crémaillère" .

# Pot de départ, sous-classe de Party
:FarewellParty rdf:type owl:Class ;
    rdfs:subClassOf :Party ;
    rdfs:label "Pot de départ" ;
    rdfs:comment "Une fête de départ" .

# Mariage, type d’événement
:Wedding rdf:type owl:Class ;
    rdfs:subClassOf :Event ;
    rdfs:label "Mariage" ;
    rdfs:comment "Un événement de mariage" .

# Vacances, période considérée comme un événement
:Vacation rdf:type owl:Class ;
    rdfs:subClassOf :Event ;
    rdfs:label "Vacances" ;
    rdfs:comment "Période de vacances" .

### Types de photos
# Catégorisation sémantique des photos selon leur contenu ou style

:PhotoType rdf:type owl:Class ;
    rdfs:label "Type de photo" ;
    rdfs:comment "Une catégorie de photo" .

:FamilyPhoto rdf:type owl:Class ;
    rdfs:subClassOf :PhotoType ;
    rdfs:label "Photo de famille" ;
    rdfs:comment "Photo représentant des membres d'une famille" .

:Selfie rdf:type owl:Class ;
    rdfs:subClassOf :PhotoType ;
    rdfs:label "Selfie" ;
    rdfs:comment "Une photo prise de soi-même" ;

:LandscapePhoto rdf:type owl:Class ;
    rdfs:subClassOf :PhotoType ;
    rdfs:label "Photo de paysage" ;
    rdfs:comment "Photo mettant en valeur un paysage naturel ou urbain" .

:PortraitPhoto rdf:type owl:Class ;
    rdfs:subClassOf :PhotoType ;
    rdfs:label "Photo de portrait" ;
    rdfs:comment "Photo centrée sur une ou plusieurs personnes" .

### Hiérarchie des lieux
# Organisation géographique hiérarchique: Pays > Région > Ville > Monument
# La propriété transitive :locatedIn permet de faire des requêtes comme
# "toutes les photos prises en France" qui incluent aussi Paris, etc.

:City rdf:type owl:Class ;
    rdfs:subClassOf :Place ;
    rdfs:label "Ville" ;
    rdfs:comment "Une ville ou localité" .

:Country rdf:type owl:Class ;
    rdfs:subClassOf :Place ;
    rdfs:label "Pays" ;
    rdfs:comment "Un pays" .

:Region rdf:type owl:Class ;
    rdfs:subClassOf :Place ;
    rdfs:label "Région" ;
    rdfs:comment "Une région administrative ou géographique" .

:Landmark rdf:type owl:Class ;
    rdfs:subClassOf :Place ;
    rdfs:label "Monument" ;
    rdfs:comment "Un monument ou lieu remarquable" .

### Objets et éléments sur les photos
# Permet de décrire ce qu'on voit sur les photos au-delà des personnes

:PhysicalObject rdf:type owl:Class ;
    rdfs:label "Objet physique" ;
    rdfs:comment "Un objet visible sur une photo" .

:Building rdf:type owl:Class ;
    rdfs:subClassOf :PhysicalObject ;
    rdfs:label "Bâtiment" ;
    rdfs:comment "Un bâtiment ou structure architecturale" .

:NaturalFeature rdf:type owl:Class ;
    rdfs:subClassOf :PhysicalObject ;
    rdfs:label "Élément naturel" ;
    rdfs:comment "Un élément naturel du paysage" .

# Montagne
:Mountain rdf:type owl:Class ;
    rdfs:subClassOf :NaturalFeature ;
    rdfs:label "Montagne" .

# Plage
:Beach rdf:type owl:Class ;
    rdfs:subClassOf :NaturalFeature ;
    rdfs:label "Plage" .

# Animal visible sur une photo
:Animal rdf:type owl:Class ;
    rdfs:label "Animal" ;
    rdfs:comment "Un animal visible sur une photo" .

# Chien
:Dog rdf:type owl:Class ;
    rdfs:subClassOf :Animal ;
    rdfs:label "Chien" .

# Chat
:Cat rdf:type owl:Class ;
    rdfs:subClassOf :Animal ;
    rdfs:label "Chat" .

# Vache
:Cow rdf:type owl:Class ;
    rdfs:subClassOf :Animal ;
    rdfs:label "Vache".

### Périodes temporelles

# Période temporelle abstraite
:TimePeriod rdf:type owl:Class ;
    rdfs:label "Période temporelle".

# Saison (sous-classe de TimePeriod)
:Season rdf:type owl:Class ;
    rdfs:subClassOf :TimePeriod ;
    rdfs:label "Saison" .

# Été
:Summer rdf:type owl:Class ;
    rdfs:subClassOf :Season ;
    rdfs:label "Été" .

# Hiver
:Winter rdf:type owl:Class ;
    rdfs:subClassOf :Season ;
    rdfs:label "Hiver" .

# Printemps
:Spring rdf:type owl:Class ;
    rdfs:subClassOf :Season ;
    rdfs:label "Printemps".

# Automne
:Autumn rdf:type owl:Class ;
    rdfs:subClassOf :Season ;
    rdfs:label "Automne" .

### Classes disjointes
# Ces contraintes permettent au raisonneur de détecter des incohérences
# Par exemple, si on dit qu'une instance est à la fois une Person et un Place,
# le raisonneur détectera une erreur logique

:Person owl:disjointWith :Place , :Animal , :PhysicalObject .
:Animal owl:disjointWith :Place , :PhysicalObject .
:Place owl:disjointWith :PhysicalObject .

# Une photo ne peut pas être simultanément un selfie et une photo de paysage
:FamilyPhoto owl:disjointWith :Selfie , :LandscapePhoto .
:Selfie owl:disjointWith :LandscapePhoto , :PortraitPhoto .
:LandscapePhoto owl:disjointWith :PortraitPhoto .

# Contraintes disjointes entre événements
:Birthday owl:disjointWith :Wedding , :Vacation .
:Wedding owl:disjointWith :Vacation .
:HousewarmingParty owl:disjointWith :FarewellParty .

# Contraintes disjointes entre lieux
:City owl:disjointWith :Country , :Region , :Landmark .
:Country owl:disjointWith :Region , :Landmark .
:Region owl:disjointWith :Landmark .

# Contraintes disjointes entre animaux
:Dog owl:disjointWith :Cat , :Cow .
:Cat owl:disjointWith :Cow .


#################################################################
#    Object Properties
#################################################################

### Propriétés liées aux photos
# Ces propriétés permettent de décrire le contenu et le contexte des photos

# depicts: propriété générale dont héritent les propriétés spécialisées
:depicts rdf:type owl:ObjectProperty ;
    rdfs:domain :Photo ;
    rdfs:range owl:Thing ;
    rdfs:label "représente" ;
    rdfs:comment "Indique ce qui est représenté sur une photo" .

# Propriétés spécialisées pour différents types de contenu
:depictsPerson rdf:type owl:ObjectProperty ;
    rdfs:subPropertyOf :depicts ;
    rdfs:domain :Photo ;
    rdfs:range :Person ;
    rdfs:label "représente personne" ;
    rdfs:comment "Indique qu'une personne est visible sur la photo" .

# Spécialisation de depicts pour les lieux
:depictsPlace rdf:type owl:ObjectProperty ;
    rdfs:subPropertyOf :depicts ;
    rdfs:domain :Photo ;
    rdfs:range :Place ;
    rdfs:label "représente lieu" .

# Spécialisation de depicts pour les objets physiques
:depictsObject rdf:type owl:ObjectProperty ;
    rdfs:subPropertyOf :depicts ;
    rdfs:domain :Photo ;
    rdfs:range :PhysicalObject ;
    rdfs:label "représente objet" .

# Spécialisation de depicts pour les animaux
:depictsAnimal rdf:type owl:ObjectProperty ;
    rdfs:subPropertyOf :depicts ;
    rdfs:domain :Photo ;
    rdfs:range :Animal ;
    rdfs:label "représente animal" .

# Où et quand la photo a été prise
:takenAt rdf:type owl:ObjectProperty ;
    rdfs:domain :Photo ;
    rdfs:range :Place ;
    rdfs:label "prise à" ;
    rdfs:comment "Le lieu où la photo a été prise" .

:takenDuring rdf:type owl:ObjectProperty ;
    rdfs:domain :Photo ;
    rdfs:range :Event ;
    rdfs:label "prise pendant" ;
    rdfs:comment "L'événement pendant lequel la photo a été prise" .

:takenBy rdf:type owl:ObjectProperty , owl:FunctionalProperty ;
    rdfs:domain :Photo ;
    rdfs:range :Person ;
    rdfs:label "prise par" ;
    rdfs:comment "L'auteur de la photo (une photo a un seul auteur)" .

# Organisation en albums
:hasPhotoType rdf:type owl:ObjectProperty ;
    rdfs:domain :Photo ;
    rdfs:range :PhotoType ;
    rdfs:label "a pour type" ;
    rdfs:comment "Catégorise une photo selon son type" .

:inAlbum rdf:type owl:ObjectProperty ;
    rdfs:domain :Photo ;
    rdfs:range :Album ;
    rdfs:label "dans l'album" ;
    rdfs:comment "Indique à quel album appartient la photo" .

# Propriété inverse automatique: permet de naviguer dans les deux sens
:containsPhoto rdf:type owl:ObjectProperty ;
    owl:inverseOf :inAlbum ;
    rdfs:domain :Album ;
    rdfs:range :Photo ;
    rdfs:label "contient photo" ;
    rdfs:comment "Liste les photos contenues dans l'album" .

# Propriétaire de l’album
:ownedBy rdf:type owl:ObjectProperty ;
    rdfs:domain :Album ;
    rdfs:range :Person ;
    rdfs:label "appartient à"  .

### Propriétés liées aux personnes
# Ces propriétés permettent de modéliser les relations sociales et familiales
# Les propriétés symétriques comme friendOf permettent l'inférence automatique:
# si A est ami de B, alors B est ami de A

:friendOf rdf:type owl:ObjectProperty , owl:SymmetricProperty , owl:IrreflexiveProperty ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "ami de" ;
    rdfs:comment "Indique une relation d'amitié entre deux personnes (symétrique et irréflexive)" .

# Relations familiales spécifiques
:isBrotherOf rdf:type owl:ObjectProperty , owl:SymmetricProperty ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "est frère de" ;
    rdfs:comment "Indique une relation fraternelle" .

:isSisterOf rdf:type owl:ObjectProperty , owl:SymmetricProperty ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "est sœur de" ;
    rdfs:comment "Indique une relation sororale" .

# Relation générique de fratrie (symétrique + transitive)
# La transitivité permet: si A sibling B et B sibling C, alors A sibling C
:isSiblingOf rdf:type owl:ObjectProperty , owl:SymmetricProperty , owl:TransitiveProperty , owl:IrreflexiveProperty ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "est frère/sœur de" ;
    rdfs:comment "Indique une relation de fratrie (transitive et symétrique, mais irréflexive: une personne n'est pas son propre frère/sœur)" .

# isBrotherOf et isSisterOf sont des spécialisations de isSiblingOf
:isBrotherOf rdfs:subPropertyOf :isSiblingOf .
:isSisterOf rdfs:subPropertyOf :isSiblingOf .

# Relations parent-enfant (inverses l'une de l'autre)
:isParentOf rdf:type owl:ObjectProperty , owl:AsymmetricProperty , owl:IrreflexiveProperty ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "est parent de" ;
    rdfs:comment "Indique qu'une personne est parent d'une autre (asymétrique: si A parent de B, alors B n'est pas parent de A)" .

:isChildOf rdf:type owl:ObjectProperty ;
    owl:inverseOf :isParentOf ;
    rdfs:domain :Person ;
    rdfs:range :Person ;
    rdfs:label "est enfant de" ;
    rdfs:comment "Indique qu'une personne est enfant d'une autre" .

### Propriétés liées aux lieux
# La transitivité est cruciale ici: elle permet de dire qu'une ville en France
# est aussi en Europe, sans avoir à le spécifier explicitement

:locatedIn rdf:type owl:ObjectProperty , owl:TransitiveProperty ;
    rdfs:domain :Place ;
    rdfs:range :Place ;
    rdfs:label "situé dans" ;
    rdfs:comment "Indique qu'un lieu est situé dans un autre lieu" .

:contains rdf:type owl:ObjectProperty , owl:TransitiveProperty ;
    owl:inverseOf :locatedIn ;
    rdfs:domain :Place ;
    rdfs:range :Place ;
    rdfs:label "contient" ;
    rdfs:comment "Indique qu'un lieu contient un autre lieu" .


#################################################################
#    Data Properties
#################################################################
# Propriétés dont les valeurs sont des types de données simples
# (chaînes, nombres, dates, etc.)

# Informations textuelles sur les photos
:title rdf:type owl:DatatypeProperty ;
    rdfs:domain :Photo ;
    rdfs:range xsd:string ;
    rdfs:label "titre" ;
    rdfs:comment "Le titre de la photo" .

:description rdf:type owl:DatatypeProperty ;
    rdfs:domain :Photo ;
    rdfs:range xsd:string ;
    rdfs:label "description" ;
    rdfs:comment "Une description textuelle du contenu de la photo" .

# Informations temporelles
# dateTaken est fonctionnelle: une photo ne peut avoir qu'une seule date de prise
:dateTaken rdf:type owl:DatatypeProperty , owl:FunctionalProperty ;
    rdfs:domain :Photo ;
    rdfs:range xsd:dateTime ;
    rdfs:label "date de prise";
    rdfs:comment "Date et heure exactes de la prise de vue" .

:yearTaken rdf:type owl:DatatypeProperty ;
    rdfs:domain :Photo ;
    rdfs:range xsd:gYear ;
    rdfs:label "année" ;
    rdfs:comment "Année de la prise de vue (utile pour les filtres)" .

# Nom de l’album (étiquette lisible)
:albumName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Album ;
    rdfs:range xsd:string ;
    rdfs:label "nom de l'album" .

# Nom de la personne
:personName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Person ;
    rdfs:range xsd:string ;
    rdfs:label "nom" .

# Email de la personne (fonctionnel : un email dans ce modèle)
# InverseFunctional: deux personnes ne peuvent pas avoir le même email
:email rdf:type owl:DatatypeProperty , owl:FunctionalProperty , owl:InverseFunctionalProperty ;
    rdfs:domain :Person ;
    rdfs:range xsd:string ;
    rdfs:label "email" .

# Nom textuel du lieu
:placeName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Place ;
    rdfs:range xsd:string ;
    rdfs:label "nom du lieu" .